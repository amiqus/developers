import{_ as n,C as l,c as r,o as s,ah as a,b as p,w as o,a as i,G as c,ai as u}from"./chunks/framework.D1Ff5WEQ.js";const f=JSON.parse('{"title":"Standard Amiqus Integration Flow","description":"How to create a new Amiqus check as part of a website registration process","frontmatter":{"title":"Standard Amiqus Integration Flow","description":"How to create a new Amiqus check as part of a website registration process"},"headers":[],"relativePath":"guides/use-cases/registration-flow.md","filePath":"guides/use-cases/registration-flow.md","lastUpdated":1755253662000}'),d={name:"guides/use-cases/registration-flow.md"};function F(D,e,h,y,m,g){const t=l("Mermaid");return s(),r("div",null,[e[1]||(e[1]=a('<h1 id="standard-amiqus-integration-flow" tabindex="-1">Standard Amiqus Integration Flow <a class="header-anchor" href="#standard-amiqus-integration-flow" aria-label="Permalink to &quot;Standard Amiqus Integration Flow&quot;">‚Äã</a></h1><p>This guide walks you through creating a new Amiqus check during a user‚Äôs registration on your website. The steps focus on the key Amiqus API endpoints and the recommended webhook setup.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">‚Äã</a></h2><ul><li><strong>Webhook registration</strong>: Ensure you have configured a webhook endpoint to receive <a href="/guides/webhooks.html#available-webhooks">record update</a> notifications. You can use the <a href="/guides/webhooks.html#setup">webhook setup guide</a> to get started. This will allow you to track when a user has completed their Amiqus check.</li><li><strong>Amiqus API credentials</strong>: You will need <a href="/guides/authentication.html">valid credentials</a> to call the <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Clients/operation/post-clients" target="_blank" rel="noreferrer">Create a Client</a> and <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Records/operation/post-records" target="_blank" rel="noreferrer">Create a Record</a> endpoints.</li></ul><h2 id="overview-of-the-flow" tabindex="-1">Overview of the flow <a class="header-anchor" href="#overview-of-the-flow" aria-label="Permalink to &quot;Overview of the flow&quot;">‚Äã</a></h2><p>Below is a diagram illustrating the overall process. Once the user registers on your website and provides their details, you will create a client and then create a record in Amiqus. This can either be done by directly defining the checks, documents or forms (steps), or by using a pre-configured template. Amiqus will email the user to complete their checks, and your webhook will notify you when the checks are done.</p>',6)),(s(),p(u,null,{default:o(()=>[c(t,{id:"mermaid-27",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20autonumber%0A%20%20%20%20participant%20User%0A%20%20%20%20participant%20Your%20Website%0A%20%20%20%20participant%20Amiqus%0A%0A%20%20%20%20Note%20over%20Your%20Website%3A%200)%20Register%20Webhook%20(Prerequisite)%0A%20%20%20%20User-%3E%3EYour%20Website%3A%201)%20Register%20with%20(Name%2C%20Email%2C%20etc.)%0A%20%20%20%20Your%20Website-%3E%3EAmiqus%3A%202.1)%20Create%20a%20Client%0A%20%20%20%20Amiqus--%3E%3EYour%20Website%3A%20Client%20created%20(Client%20ID)%0A%20%20%20%20alt%20Use%20step%20array%0A%20%20%20%20%20%20%20%20Your%20Website-%3E%3EAmiqus%3A%202.2)%20Create%20a%20Record%20(with%20steps)%0A%20%20%20%20else%20Use%20template%20ID%0A%20%20%20%20%20%20%20%20Your%20Website-%3E%3EAmiqus%3A%202.2)%20Create%20a%20Record%20(with%20template%20ID)%0A%20%20%20%20end%0A%20%20%20%20Amiqus--%3E%3EYour%20Website%3A%20Record%20created%20(Record%20ID)%0A%20%20%20%20Amiqus-%3E%3EUser%3A%203)%20Send%20Email%20to%20Complete%20Checks%0A%20%20%20%20User-%3E%3EAmiqus%3A%20Complete%20Checks%0A%20%20%20%20Amiqus--%3E%3EYour%20Website%3A%20Webhook%20trigger%20when%20Record%20is%20updated%0A"})]),fallback:o(()=>e[0]||(e[0]=[i(" Loading... ")])),_:1})),e[2]||(e[2]=a(`<h2 id="step-by-step-guide" tabindex="-1">Step-by-step guide <a class="header-anchor" href="#step-by-step-guide" aria-label="Permalink to &quot;Step-by-step guide&quot;">‚Äã</a></h2><h3 id="_1-user-registration-on-your-website" tabindex="-1">1. User registration on your website <a class="header-anchor" href="#_1-user-registration-on-your-website" aria-label="Permalink to &quot;1. User registration on your website&quot;">‚Äã</a></h3><p>During your user‚Äôs normal sign-up process, ensure you collect at least:</p><ul><li><strong>Full name</strong></li><li><strong>Email address</strong></li></ul><p>These fields are required when creating a client in Amiqus.</p><h3 id="_2-initiate-the-amiqus-check-workflow" tabindex="-1">2. Initiate the Amiqus check workflow <a class="header-anchor" href="#_2-initiate-the-amiqus-check-workflow" aria-label="Permalink to &quot;2. Initiate the Amiqus check workflow&quot;">‚Äã</a></h3><p><strong>2.1 Create a Client</strong><br> Using the Amiqus API, <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Clients/operation/post-clients" target="_blank" rel="noreferrer">create a client</a>.<br> For example:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">mr</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">first_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Martin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">middle_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Seamus</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">last_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">McFly</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">email</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">marty@example.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Upon success, you will receive a <code>client_id</code> in the response. Store this <code>client_id</code> to reference later.</p><p><strong>2.2 Create a Record</strong><br> You have two options when creating a record:</p><ul><li><strong>Define checks manually</strong> by passing an array of <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Steps/operation/get-steps" target="_blank" rel="noreferrer">steps</a></li><li><strong>Use a predefined template</strong> by passing a <code>template</code> ID, which can be retrieved via the <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Templates/operation/get-templates-records" target="_blank" rel="noreferrer">record templates endpoint</a></li></ul><p><strong>Option A: Using steps</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">client</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 7832</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">steps</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">    {</span></span>
<span class="line"><span style="color:#89DDFF;">      &quot;</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">check.photo_id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      &quot;</span><span style="color:#FFCB6B;">preferences</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#F78C6C;">report_type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">standard</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        &quot;</span><span style="color:#F78C6C;">docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">          &quot;</span><span style="color:#C3E88D;">passport</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">          &quot;</span><span style="color:#C3E88D;">driving_licence</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        ]</span></span>
<span class="line"><span style="color:#89DDFF;">      }</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">  ],</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">notification</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">email</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p><strong>Option B: Using a template</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">client</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 7832</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">template</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 12</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">notification</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">email</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>You‚Äôll receive a <code>record_id</code> in the response. This record triggers the Amiqus check process and sends the invitation email to the user.</p><blockquote><p>üí° <strong>Tip</strong>: If you want to notify the user outside of Amiqus, set the <code>notification</code> value to <code>false</code>. This prevents Amiqus from sending an email and instead gives you a <code>perform_url</code> you can share via your own channels (email, app, etc).</p></blockquote><h3 id="_3-wait-for-user-to-complete-their-checks" tabindex="-1">3. Wait for user to complete their checks <a class="header-anchor" href="#_3-wait-for-user-to-complete-their-checks" aria-label="Permalink to &quot;3. Wait for user to complete their checks&quot;">‚Äã</a></h3><p>Amiqus will send your user an email (<em>where notifications are enabled</em>) containing a link to complete their checks. Once they have submitted the required details:</p><ul><li>Amiqus will update the record‚Äôs status.</li><li>A <strong>webhook notification</strong> will be sent to the endpoint you configured, allowing you to update your system accordingly (e.g. marking a user as verified).</li></ul><h2 id="what-happens-next" tabindex="-1">What happens next? <a class="header-anchor" href="#what-happens-next" aria-label="Permalink to &quot;What happens next?&quot;">‚Äã</a></h2><p>After receiving the record update webhook, you may want to:</p><ol><li>Confirm the checks passed (or handle any failures/requests for more info). You could do this by <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Records/operation/get-records-id" target="_blank" rel="noreferrer">retrieving the most up-to-date record</a> to get the overall status of all the checks, or by <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Records/operation/get-records-id-steps" target="_blank" rel="noreferrer">listing all steps within a record</a>, which will give you the status for each individual check.</li><li>Update your internal user profile status (e.g. ‚ÄúVerified‚Äù).</li><li>Inform your user of their successful verification.</li></ol>`,23))])}const b=n(d,[["render",F]]);export{f as __pageData,b as default};
