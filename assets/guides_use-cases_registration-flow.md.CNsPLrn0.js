import{_ as t,D as n,c as r,b as l,w as e,a4 as i,a3 as a,o as s,I as p,a as c}from"./chunks/framework.BG__5Sii.js";const w=JSON.parse('{"title":"Standard Amiqus Integration Flow","description":"How to create a new Amiqus check as part of a website registration process","frontmatter":{"title":"Standard Amiqus Integration Flow","description":"How to create a new Amiqus check as part of a website registration process"},"headers":[],"relativePath":"guides/use-cases/registration-flow.md","filePath":"guides/use-cases/registration-flow.md","lastUpdated":1745593027000}'),u={name:"guides/use-cases/registration-flow.md"},d=a('<h1 id="standard-amiqus-integration-flow" tabindex="-1">Standard Amiqus Integration Flow <a class="header-anchor" href="#standard-amiqus-integration-flow" aria-label="Permalink to &quot;Standard Amiqus Integration Flow&quot;">​</a></h1><p>This guide walks you through creating a new Amiqus check during a user’s registration on your website. The steps focus on the key Amiqus API endpoints and the recommended webhook setup.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li><strong>Webhook registration</strong>: Ensure you have configured a webhook endpoint to receive <a href="/guides/webhooks.html#available-webhooks">record update</a> notifications. You can use the <a href="/guides/webhooks.html#setup">webhook setup guide</a> to get started. This will allow you to track when a user has completed their Amiqus check.</li><li><strong>Amiqus API credentials</strong>: You will need <a href="/guides/authentication.html">valid credentials</a> to call the <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Clients/operation/post-clients" target="_blank" rel="noreferrer">Create a Client</a> and <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Records/operation/post-records" target="_blank" rel="noreferrer">Create a Record</a> endpoints.</li></ul><h2 id="overview-of-the-flow" tabindex="-1">Overview of the flow <a class="header-anchor" href="#overview-of-the-flow" aria-label="Permalink to &quot;Overview of the flow&quot;">​</a></h2><p>Below is a diagram illustrating the overall process. Once the user registers on your website and provides their details, you will create a client and then create a record in Amiqus. Amiqus will email the user to complete their checks, and your webhook will notify you when the checks are done.</p>',6),h=a(`<h2 id="step-by-step-guide" tabindex="-1">Step-by-step guide <a class="header-anchor" href="#step-by-step-guide" aria-label="Permalink to &quot;Step-by-step guide&quot;">​</a></h2><h3 id="_1-user-registration-on-your-website" tabindex="-1">1. User registration on your website <a class="header-anchor" href="#_1-user-registration-on-your-website" aria-label="Permalink to &quot;1. User registration on your website&quot;">​</a></h3><p>During your user’s normal sign-up process, ensure you collect at least:</p><ul><li><strong>Full name</strong></li><li><strong>Email address</strong></li></ul><p>These fields are required when creating a client in Amiqus.</p><h3 id="_2-initiate-the-amiqus-check-workflow" tabindex="-1">2. Initiate the Amiqus check workflow <a class="header-anchor" href="#_2-initiate-the-amiqus-check-workflow" aria-label="Permalink to &quot;2. Initiate the Amiqus check workflow&quot;">​</a></h3><p><strong>2.1 Create a Client</strong><br> Using the Amiqus API, <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Clients/operation/post-clients" target="_blank" rel="noreferrer">create a client</a>. For example:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">mr</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">first_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Martin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">middle_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Seamus</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">last_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">McFly</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">email</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">marty@example.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Upon success, you will receive a <code>client_id</code> in the response. Store this <code>client_id</code> to reference later.</p><p><strong>2.2 Create a Record</strong><br> Next, <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Records/operation/post-records" target="_blank" rel="noreferrer">create a new Amiqus record</a> which points to the client you have just created. A record can include a number of checks (referred to as <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Steps/operation/get-steps" target="_blank" rel="noreferrer">steps</a> in our documentation), such as identity report, banking information, criminal record checks, etc.:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#FFCB6B;">  &quot;client&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> 7832,</span></span>
<span class="line"><span style="color:#FFCB6B;">  &quot;steps&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">    {</span></span>
<span class="line"><span style="color:#FFCB6B;">      &quot;type&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">check.photo_id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">      &quot;preferences&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#C3E88D;"> {</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;report_type&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">standard</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">        &quot;docs&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;passport&quot;</span><span style="color:#FFCB6B;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">          &quot;driving_licence&quot;</span></span>
<span class="line"><span style="color:#BABED8;">        ]</span></span>
<span class="line"><span style="color:#89DDFF;">      }</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#BABED8;">  ],</span></span>
<span class="line"><span style="color:#FFCB6B;">  &quot;notification&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">email</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><p>You’ll receive a <code>record_id</code> in the response. This record triggers the Amiqus check process and sends the invitation email to the user.</p><p>Note - If you wish to notify the user outside of Amiqus, you can set the <code>notification</code> value to be <code>false</code>. This will prevent Amiqus from sending the user an email asking them to do the check. The record response has a <code>perform_url</code> value which you can forward to the user however you want to e.g. email, in app, browser etc.</p><h3 id="_3-wait-for-user-to-complete-their-checks" tabindex="-1">3. Wait for user to complete their checks <a class="header-anchor" href="#_3-wait-for-user-to-complete-their-checks" aria-label="Permalink to &quot;3. Wait for user to complete their checks&quot;">​</a></h3><p>Amiqus will send your user an email (<em>where notifications are enabled</em>) containing a link to complete their checks. Once they have submitted the required details:</p><ul><li>Amiqus will update the record’s status.</li><li>A <strong>webhook notification</strong> will be sent to the endpoint you configured, allowing you to update your system accordingly (e.g. marking a user as verified).</li></ul><h2 id="what-happens-next" tabindex="-1">What happens next? <a class="header-anchor" href="#what-happens-next" aria-label="Permalink to &quot;What happens next?&quot;">​</a></h2><p>After receiving the record update webhook, you may want to:</p><ol><li>Confirm the checks passed (or handle any failures/requests for more info). You could do this by <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Records/operation/get-records-id" target="_blank" rel="noreferrer">retrieving the most up-to-date record</a> to get the overall status of all the checks, or by <a href="https://developers.amiqus.co/aqid/api-reference.html#tag/Records/operation/get-records-id-steps" target="_blank" rel="noreferrer">listing all steps within a record</a>, which will give you the status for each individual check.</li><li>Update your internal user profile status (e.g. “Verified”).</li><li>Inform your user of their successful verification.</li></ol>`,19);function F(y,m,q,D,g,f){const o=n("Mermaid");return s(),r("div",null,[d,(s(),l(i,null,{default:e(()=>[p(o,{id:"mermaid-27",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20autonumber%0A%20%20%20%20participant%20User%0A%20%20%20%20participant%20Your%20Website%0A%20%20%20%20participant%20Amiqus%0A%0A%20%20%20%20Note%20over%20Your%20Website%3A%200)%20Register%20Webhook%20(Prerequisite)%0A%20%20%20%20User-%3E%3EYour%20Website%3A%201)%20Register%20with%20(Name%2C%20Email%2C%20etc.)%0A%20%20%20%20Your%20Website-%3E%3EAmiqus%3A%202.1)%20Create%20a%20Client%0A%20%20%20%20Amiqus--%3E%3EYour%20Website%3A%20Client%20created%20(Client%20ID)%0A%20%20%20%20Your%20Website-%3E%3EAmiqus%3A%202.2)%20Create%20a%20Record%20(using%20Client%20ID)%0A%20%20%20%20Amiqus--%3E%3EYour%20Website%3A%20Record%20created%20(Record%20ID)%0A%20%20%20%20Amiqus-%3E%3EUser%3A%203)%20Send%20Email%20to%20Complete%20Checks%0A%20%20%20%20User-%3E%3EAmiqus%3A%20Complete%20Checks%0A%20%20%20%20Amiqus--%3E%3EYour%20Website%3A%20Webhook%20trigger%20when%20Record%20is%20updated%0A"})]),fallback:e(()=>[c(" Loading... ")]),_:1})),h])}const b=t(u,[["render",F]]);export{w as __pageData,b as default};
