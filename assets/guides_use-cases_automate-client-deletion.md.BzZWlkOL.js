import{_ as o,D as n,c as l,b as s,w as e,a4 as r,a3 as a,o as t,I as d,a as c}from"./chunks/framework.BG__5Sii.js";const q=JSON.parse('{"title":"Automate client deletion","description":"Learn how to delete client data by filtering clients based on their deletion_date and using the API to remove all associated data in line with compliance obligations.","frontmatter":{"title":"Automate client deletion","description":"Learn how to delete client data by filtering clients based on their deletion_date and using the API to remove all associated data in line with compliance obligations."},"headers":[],"relativePath":"guides/use-cases/automate-client-deletion.md","filePath":"guides/use-cases/automate-client-deletion.md","lastUpdated":1741793797000}'),h={name:"guides/use-cases/automate-client-deletion.md"},u=a('<h1 id="automate-client-deletion" tabindex="-1">Automate client deletion <a class="header-anchor" href="#automate-client-deletion" aria-label="Permalink to &quot;Automate client deletion&quot;">​</a></h1><p>This guide demonstrates how to delete client data using our API. In line with compliance obligations, you can automatically identify clients scheduled for deletion by filtering on their <code>deletion_date</code>. Once identified, you can delete the client data—including all PII, files, and associated records—using the API endpoints provided.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li><strong>Amiqus API credentials:</strong> Ensure you have valid credentials to authenticate your requests.</li><li><strong>Compliance setup:</strong> Confirm that your deletion policies are in place and that the <code>deletion_date</code> is set correctly for each client.</li></ul><h2 id="overview-of-the-flow" tabindex="-1">Overview of the flow <a class="header-anchor" href="#overview-of-the-flow" aria-label="Permalink to &quot;Overview of the flow&quot;">​</a></h2><p>Below is a sequence diagram illustrating the process:</p>',6),p=a('<h2 id="step-by-step-guide" tabindex="-1">Step-by-step guide <a class="header-anchor" href="#step-by-step-guide" aria-label="Permalink to &quot;Step-by-step guide&quot;">​</a></h2><h3 id="_1-list-all-clients-with-a-deletion-date-set-to-today" tabindex="-1">1. List all clients with a <code>deletion_date</code> set to today <a class="header-anchor" href="#_1-list-all-clients-with-a-deletion-date-set-to-today" aria-label="Permalink to &quot;1. List all clients with a `deletion_date` set to today&quot;">​</a></h3><p>Begin by calling the <a href="/aqid/api-reference.html#tag/Clients/operation/get-clients" target="_blank">list all clients</a> endpoint. Use the <code>deletion_date</code> filter with the value <code>today</code> to retrieve only those clients whose deletion date matches the current day. The response will include an array of client objects, each with a <code>deletion_date</code> indicating that their data is due for deletion.</p><h3 id="_2-delete-each-client" tabindex="-1">2. Delete each client <a class="header-anchor" href="#_2-delete-each-client" aria-label="Permalink to &quot;2. Delete each client&quot;">​</a></h3><p>Once you have the list of clients scheduled for deletion, iterate through each client and call the <a href="/aqid/api-reference.html#tag/Clients/operation/delete-clients-id" target="_blank">delete a client</a> endpoint. This operation will remove all PII, files, and any other associated data for the client, thereby fulfilling your compliance requirements.</p><h2 id="what-happens-next" tabindex="-1">What happens next? <a class="header-anchor" href="#what-happens-next" aria-label="Permalink to &quot;What happens next?&quot;">​</a></h2><p>After deleting the client data:</p><ul><li><strong>Log the deletion:</strong> Ensure that all deletion actions are logged for audit purposes.</li><li><strong>Review API limits:</strong> Monitor your <a href="./../concepts/rate-limits.html">API rate limits</a> to avoid any throttling, particularly if you are processing a large number of clients.</li><li><strong>Verify deletion:</strong> Consider implementing additional checks or notifications to confirm that deletions have been successfully executed.</li></ul><p>By following these steps, you can efficiently manage the deletion of client data, ensuring that your practices remain compliant with data protection regulations.</p>',9);function m(f,g,_,y,A,b){const i=n("Mermaid");return t(),l("div",null,[u,(t(),s(r,null,{default:e(()=>[d(i,{id:"mermaid-27",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20Script%20as%20Your%20Script%0A%20%20%20%20participant%20Amiqus%20as%20Amiqus%20API%0A%0A%20%20%20%20Script-%3E%3EAmiqus%3A%20GET%20%2Fclients%3Fdeletion_date%3Dtoday%0A%20%20%20%20loop%20For%20each%20client%0A%20%20%20%20%20%20%20%20Script-%3E%3EAmiqus%3A%20DELETE%20%2Fclients%2F%7BclientId%7D%0A%20%20%20%20%20%20%20%20Amiqus--%3E%3EScript%3A%20Deletion%20confirmation%0A%20%20%20%20end%0A"})]),fallback:e(()=>[c(" Loading... ")]),_:1})),p])}const P=o(h,[["render",m]]);export{q as __pageData,P as default};
